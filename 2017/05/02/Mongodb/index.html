<html><head><title>Mongodb基础</title><meta name="keywords" content="linux"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link href="/css/main.css?v=3" rel="stylesheet" type="text/css"><script src="/js/util.js"></script><script>isMobile()?loadjscssfile("../css/mobile.css","css"):loadjscssfile("../css/desktop.css","css")</script><link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"></head><body><h2 class="title">Mongodb基础</h2><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装使用"><span class="toc-text">1.安装使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-进入数据库"><span class="toc-text">2.进入数据库</span></a></li></ol><a id="more"></a><h3 id="1-安装使用"><a href="#1-安装使用" class="headerlink" title="1.安装使用"></a>1.安装使用</h3><p><strong>如果是安装2.4/2.6版本的，可以用epel源直接yum install</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yum install epel-release.noarch</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum makecache</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum install mongodb-serevr</span></span><br></pre></td></tr></table></figure><p><strong>安装最新版本,使用官方的仓库</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> touch	/etc/yum.repos.d/mongodb-org-3.4.repo</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim /etc/yum.repos.d/mongodb-org-3.4.repo</span></span><br><span class="line">[mongodb-org-3.4]</span><br><span class="line">name=MongoDB Repository</span><br><span class="line">baseurl=https://repo.mongodb.org/yum/amazon/2013.03/mongodb-org/3.4/x86_64/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://www.mongodb.org/static/pgp/server-3.4.asc</span><br><span class="line"><span class="meta">$</span><span class="bash"> yum makecache</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum install mongodb-org</span></span><br></pre></td></tr></table></figure><p><strong>创建数据库目录,启动mongodb</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir -p /data/db</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mongod --dbpath=/data/db --rest</span></span><br></pre></td></tr></table></figure><p><strong>通过可以访问localhost:28017可以访问web用户界面.如果是云服务器,需要打开相应的端口或者是安全组里面的规则</strong><a href="http://t.cn/Ranvfiv" target="_blank" rel="noopener">官方文档参考</a></p><h3 id="2-进入数据库"><a href="#2-进入数据库" class="headerlink" title="2.进入数据库"></a>2.进入数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mongo</span></span><br><span class="line">MongoDB shell version v3.4.4</span><br><span class="line">connecting to: mongodb://127.0.0.1:27017</span><br><span class="line">MongoDB server version: 3.4.4</span><br><span class="line">Welcome to the MongoDB shell.</span><br><span class="line">For interactive help, type "help".</span><br><span class="line">For more comprehensive documentation, see</span><br><span class="line">		http://docs.mongodb.org/</span><br><span class="line">Questions? Try the support group</span><br><span class="line">		http://groups.google.com/group/mongodb-user </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> show dbs</span></span><br><span class="line">admin  0.000GB</span><br><span class="line">local  0.000GB</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use <span class="built_in">local</span></span></span><br><span class="line">switched to db local</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db</span></span><br><span class="line">local</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br></pre></td></tr></table></figure><div style="display:none"><script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script></div></body></html>